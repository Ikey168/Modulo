{
  "_format": "hh-sol-artifact-1",
  "contractName": "NoteRegistryOptimized",
  "sourceName": "contracts/NoteRegistryOptimized.sol",
  "abi": [
    {
      "inputs": [],
      "name": "EmptyHash",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "HashAlreadyExists",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidAddress",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotOwner",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NoteNotActive",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NoteNotFound",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SelfTransfer",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "noteId",
          "type": "uint256"
        }
      ],
      "name": "NoteDeactivated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "noteId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "hash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint96",
          "name": "timestamp",
          "type": "uint96"
        }
      ],
      "name": "NoteRegistered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "noteId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "newHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint96",
          "name": "timestamp",
          "type": "uint96"
        }
      ],
      "name": "NoteUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "noteId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32[]",
          "name": "hashes",
          "type": "bytes32[]"
        }
      ],
      "name": "batchRegisterNotes",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "noteIds",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "noteId",
          "type": "uint256"
        }
      ],
      "name": "deactivateNote",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "noteId",
          "type": "uint256"
        }
      ],
      "name": "getNote",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "owner",
              "type": "address"
            },
            {
              "internalType": "uint96",
              "name": "timestamp",
              "type": "uint96"
            },
            {
              "internalType": "bytes32",
              "name": "hash",
              "type": "bytes32"
            },
            {
              "internalType": "bool",
              "name": "isActive",
              "type": "bool"
            }
          ],
          "internalType": "struct NoteRegistryOptimized.Note",
          "name": "note",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "hash",
          "type": "bytes32"
        }
      ],
      "name": "getNoteByHash",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "owner",
              "type": "address"
            },
            {
              "internalType": "uint96",
              "name": "timestamp",
              "type": "uint96"
            },
            {
              "internalType": "bytes32",
              "name": "hash",
              "type": "bytes32"
            },
            {
              "internalType": "bool",
              "name": "isActive",
              "type": "bool"
            }
          ],
          "internalType": "struct NoteRegistryOptimized.Note",
          "name": "note",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTotalNoteCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "count",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserNoteCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "count",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "hashToNoteId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "noteCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "notes",
      "outputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "uint96",
          "name": "timestamp",
          "type": "uint96"
        },
        {
          "internalType": "bytes32",
          "name": "hash",
          "type": "bytes32"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "noteId",
          "type": "uint256"
        }
      ],
      "name": "ownsNote",
      "outputs": [
        {
          "internalType": "bool",
          "name": "owns",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "hash",
          "type": "bytes32"
        }
      ],
      "name": "registerNote",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "noteId",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes4",
          "name": "interfaceId",
          "type": "bytes4"
        }
      ],
      "name": "supportsInterface",
      "outputs": [
        {
          "internalType": "bool",
          "name": "supported",
          "type": "bool"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "noteId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "noteId",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "newHash",
          "type": "bytes32"
        }
      ],
      "name": "updateNote",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "userNoteCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "userOwnsNote",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "hash",
          "type": "bytes32"
        }
      ],
      "name": "verifyNote",
      "outputs": [
        {
          "internalType": "bool",
          "name": "exists",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "isOwner",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x6080806040523461001657610ca8908161001c8239f35b600080fdfe608060408181526004918236101561001657600080fd5b600092833560e01c91826301ffc9a714610b155750816316d06cc114610a0e578163186ffcc8146109e7578163233833ca1461092857816329507f731461075d5781632d29c2f914610712578163317a4c76146103b45781634e37cfc51461069f57816361c3a7e61461064a57816388e6ba60146103d25781638e133f70146103b45781638fbe7ffe1461027257816396fa90221461038c578163a965a941146102b7578163c07b0e5414610272578163dccc1d8814610119575063f01d06b8146100e057600080fd5b3461011557602036600319011261011557806020926001600160a01b03610105610bb3565b1681526003845220549051908152f35b5080fd5b838334610115576020928360031936011261026e578035908115610260578184526001855282842054610252576101508154610bce565b9384809255836bffffffffffffffffffffffff916101e58342169360028a610176610bf3565b3381528181018881528782018b81526001606084019081528b8952938890528888209251915190951660a01b73ffffffffffffffffffffffffffffffffffffffff19166001600160a01b03919091161781559251600184015551151591019060ff801983541691151516179055565b848152600188528382822055338152600288528181208482528852818120600160ff1982541617905533815260038852206102208154610bce565b905583519081527f9a3edb3e2b9221b1d1a0d07835b31a5b61e8a247617d50c451099784ef84d4f0863392a451908152f35b8251635d63955d60e01b8152fd5b8251631c37cddf60e21b8152fd5b8280fd5b50503461011557806003193601126101155760ff816020936001600160a01b0361029a610bb3565b168152600285528181206024358252855220541690519015158152f35b90503461026e57602036600319011261026e578035906102d5610c36565b5081158015610382575b6103745750828291610370945280602052209060ff60026102fe610bf3565b9380546001600160a01b038116865260a01c602086015260018101548486015201541615156060830152519182918291909160608060808301946001600160a01b0381511684526bffffffffffffffffffffffff60208201511660208501526040810151604085015201511515910152565b0390f35b825163dc0b736360e01b8152fd5b50805482116102df565b90503461026e57602036600319011261026e5760209282913581526001845220549051908152f35b90503461026e578260031936011261026e5760209250549051908152f35b90503461026e576020806003193601126106465781359367ffffffffffffffff92838611610115573660238701121561011557858101359084821161026e57602436818460051b8a01011161064657601f969761042e84610c5a565b895189199990989101891688019081118882101761063457895283875261045484610c5a565b87870198013689376bffffffffffffffffffffffff428116865b8681106104e25750505050338452600385528784209182549384018094116104d157838355885186815287518188018190528190818c01908b908a8a5b8281106104ba57505050500390f35b8351855286955093810193928101926001016104ab565b60118591634e487b7160e01b835252fd5b8060051b85818601013590811561062557908d9291818b52600193848d528b2054610616578b908f8c6105158c54610bce565b93848d558961059f898b61058161052a610bf3565b3381528681019283528881018c8152606082019485528b89528888528989209151935190961660a01b73ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0393909316929092178255909390565b518b84015551151560028093019060ff801983541691151516179055565b86835288825285848420553383528152848383209252528c208560ff198254161790558d51841015610604578f908d8f918492010152518581527f9a3edb3e2b9221b1d1a0d07835b31a5b61e8a247617d50c451099784ef84d4f08d3392a40161046e565b888c60328c634e487b7160e01b835252fd5b888f51635d63955d60e01b8152fd5b878e51631c37cddf60e21b8152fd5b8286604186634e487b7160e01b835252fd5b8380fd5b90503461026e57602036600319011261026e57608092829135815280602052209081549160ff6002600183015492015416918051936001600160a01b038116855260a01c602085015283015215156060820152f35b8383346101155760203660031901126101155760609282808092358152600160205283812054806106e3575b50508251931515845215156020840152151590820152f35b91508394508092505280602052209060019160ff60026001600160a01b038354163314920154169085806106cb565b90503461026e57602036600319011261026e5761072d610c36565b50803583526001602052818320549081156103745750828291610370945280602052209060ff60026102fe610bf3565b9190503461026e578060031936011261026e57813590602435926001600160a01b0390818516809503610924578315801561091a575b61037457838652602091868352838720541633036108f35783865285825260ff6002848820015416156108cc5784156108a55733851461087e57506003908386528581528286208573ffffffffffffffffffffffffffffffffffffffff1982541617905533865260028152828620848752815282862060ff19908181541690558587526002825283872085885282526001848820918254161790553386528181528286206108418154610c29565b90558486525283206108538154610bce565b905533907f16b85f49bf01212961345d3016c9a531894accf62eb7680f2045d79185cc0ec08480a480f35b82517f4d9ecd91000000000000000000000000000000000000000000000000000000008152fd5b82517fe6c4247b000000000000000000000000000000000000000000000000000000008152fd5b82517f61a83aab000000000000000000000000000000000000000000000000000000008152fd5b82517f30cd7471000000000000000000000000000000000000000000000000000000008152fd5b5080548411610793565b8580fd5b9190503461026e5760208060031936011261064657823592831580156109dd575b610374578385528482526001600160a01b03838620541633036108f35783855284825260ff6002848720015416156108cc575060039083855284815260018386206002810160ff198154169055015485526001815284838120553385525282206109b38154610c29565b9055337f2897f7fd85485b0f7623bd8c03d051c84c05b918ae029a2207fda14f660074268380a380f35b5080548411610949565b50503461011557602036600319011261011557806020926001600160a01b03610105610bb3565b9190503461026e578060031936011261026e578135906024359282158015610b0b575b610afd578285526020908582526001600160a01b03838720541633036108f35783865285825260ff6002848820015416156108cc578415610260578486526001825282862054610252575082855284815281852060018082018054885290835283872087905585905580546001600160a01b03164260a01b73ffffffffffffffffffffffffffffffffffffffff19161781557fb630a2e3678f1b4a6b8d3fd5ea875ee537f241c83c754a8242c2378369b8fe9f919085875284848820555460a01c92519283523392a480f35b905163dc0b736360e01b8152fd5b5080548311610a31565b84913461026e57602036600319011261026e57357fffffffff00000000000000000000000000000000000000000000000000000000811680910361026e57602092507f01ffc9a7000000000000000000000000000000000000000000000000000000008114908115610b89575b5015158152f35b7f80ac58cd0000000000000000000000000000000000000000000000000000000091501483610b82565b600435906001600160a01b0382168203610bc957565b600080fd5b6000198114610bdd5760010190565b634e487b7160e01b600052601160045260246000fd5b604051906080820182811067ffffffffffffffff821117610c1357604052565b634e487b7160e01b600052604160045260246000fd5b8015610bdd576000190190565b610c3e610bf3565b9060008252600060208301526000604083015260006060830152565b67ffffffffffffffff8111610c135760051b6020019056fea2646970667358221220974dffb7ba8651ae2f71a7672d7dc05935d2670e477080058a913cd913cac05e64736f6c63430008130033",
  "deployedBytecode": "0x608060408181526004918236101561001657600080fd5b600092833560e01c91826301ffc9a714610b155750816316d06cc114610a0e578163186ffcc8146109e7578163233833ca1461092857816329507f731461075d5781632d29c2f914610712578163317a4c76146103b45781634e37cfc51461069f57816361c3a7e61461064a57816388e6ba60146103d25781638e133f70146103b45781638fbe7ffe1461027257816396fa90221461038c578163a965a941146102b7578163c07b0e5414610272578163dccc1d8814610119575063f01d06b8146100e057600080fd5b3461011557602036600319011261011557806020926001600160a01b03610105610bb3565b1681526003845220549051908152f35b5080fd5b838334610115576020928360031936011261026e578035908115610260578184526001855282842054610252576101508154610bce565b9384809255836bffffffffffffffffffffffff916101e58342169360028a610176610bf3565b3381528181018881528782018b81526001606084019081528b8952938890528888209251915190951660a01b73ffffffffffffffffffffffffffffffffffffffff19166001600160a01b03919091161781559251600184015551151591019060ff801983541691151516179055565b848152600188528382822055338152600288528181208482528852818120600160ff1982541617905533815260038852206102208154610bce565b905583519081527f9a3edb3e2b9221b1d1a0d07835b31a5b61e8a247617d50c451099784ef84d4f0863392a451908152f35b8251635d63955d60e01b8152fd5b8251631c37cddf60e21b8152fd5b8280fd5b50503461011557806003193601126101155760ff816020936001600160a01b0361029a610bb3565b168152600285528181206024358252855220541690519015158152f35b90503461026e57602036600319011261026e578035906102d5610c36565b5081158015610382575b6103745750828291610370945280602052209060ff60026102fe610bf3565b9380546001600160a01b038116865260a01c602086015260018101548486015201541615156060830152519182918291909160608060808301946001600160a01b0381511684526bffffffffffffffffffffffff60208201511660208501526040810151604085015201511515910152565b0390f35b825163dc0b736360e01b8152fd5b50805482116102df565b90503461026e57602036600319011261026e5760209282913581526001845220549051908152f35b90503461026e578260031936011261026e5760209250549051908152f35b90503461026e576020806003193601126106465781359367ffffffffffffffff92838611610115573660238701121561011557858101359084821161026e57602436818460051b8a01011161064657601f969761042e84610c5a565b895189199990989101891688019081118882101761063457895283875261045484610c5a565b87870198013689376bffffffffffffffffffffffff428116865b8681106104e25750505050338452600385528784209182549384018094116104d157838355885186815287518188018190528190818c01908b908a8a5b8281106104ba57505050500390f35b8351855286955093810193928101926001016104ab565b60118591634e487b7160e01b835252fd5b8060051b85818601013590811561062557908d9291818b52600193848d528b2054610616578b908f8c6105158c54610bce565b93848d558961059f898b61058161052a610bf3565b3381528681019283528881018c8152606082019485528b89528888528989209151935190961660a01b73ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0393909316929092178255909390565b518b84015551151560028093019060ff801983541691151516179055565b86835288825285848420553383528152848383209252528c208560ff198254161790558d51841015610604578f908d8f918492010152518581527f9a3edb3e2b9221b1d1a0d07835b31a5b61e8a247617d50c451099784ef84d4f08d3392a40161046e565b888c60328c634e487b7160e01b835252fd5b888f51635d63955d60e01b8152fd5b878e51631c37cddf60e21b8152fd5b8286604186634e487b7160e01b835252fd5b8380fd5b90503461026e57602036600319011261026e57608092829135815280602052209081549160ff6002600183015492015416918051936001600160a01b038116855260a01c602085015283015215156060820152f35b8383346101155760203660031901126101155760609282808092358152600160205283812054806106e3575b50508251931515845215156020840152151590820152f35b91508394508092505280602052209060019160ff60026001600160a01b038354163314920154169085806106cb565b90503461026e57602036600319011261026e5761072d610c36565b50803583526001602052818320549081156103745750828291610370945280602052209060ff60026102fe610bf3565b9190503461026e578060031936011261026e57813590602435926001600160a01b0390818516809503610924578315801561091a575b61037457838652602091868352838720541633036108f35783865285825260ff6002848820015416156108cc5784156108a55733851461087e57506003908386528581528286208573ffffffffffffffffffffffffffffffffffffffff1982541617905533865260028152828620848752815282862060ff19908181541690558587526002825283872085885282526001848820918254161790553386528181528286206108418154610c29565b90558486525283206108538154610bce565b905533907f16b85f49bf01212961345d3016c9a531894accf62eb7680f2045d79185cc0ec08480a480f35b82517f4d9ecd91000000000000000000000000000000000000000000000000000000008152fd5b82517fe6c4247b000000000000000000000000000000000000000000000000000000008152fd5b82517f61a83aab000000000000000000000000000000000000000000000000000000008152fd5b82517f30cd7471000000000000000000000000000000000000000000000000000000008152fd5b5080548411610793565b8580fd5b9190503461026e5760208060031936011261064657823592831580156109dd575b610374578385528482526001600160a01b03838620541633036108f35783855284825260ff6002848720015416156108cc575060039083855284815260018386206002810160ff198154169055015485526001815284838120553385525282206109b38154610c29565b9055337f2897f7fd85485b0f7623bd8c03d051c84c05b918ae029a2207fda14f660074268380a380f35b5080548411610949565b50503461011557602036600319011261011557806020926001600160a01b03610105610bb3565b9190503461026e578060031936011261026e578135906024359282158015610b0b575b610afd578285526020908582526001600160a01b03838720541633036108f35783865285825260ff6002848820015416156108cc578415610260578486526001825282862054610252575082855284815281852060018082018054885290835283872087905585905580546001600160a01b03164260a01b73ffffffffffffffffffffffffffffffffffffffff19161781557fb630a2e3678f1b4a6b8d3fd5ea875ee537f241c83c754a8242c2378369b8fe9f919085875284848820555460a01c92519283523392a480f35b905163dc0b736360e01b8152fd5b5080548311610a31565b84913461026e57602036600319011261026e57357fffffffff00000000000000000000000000000000000000000000000000000000811680910361026e57602092507f01ffc9a7000000000000000000000000000000000000000000000000000000008114908115610b89575b5015158152f35b7f80ac58cd0000000000000000000000000000000000000000000000000000000091501483610b82565b600435906001600160a01b0382168203610bc957565b600080fd5b6000198114610bdd5760010190565b634e487b7160e01b600052601160045260246000fd5b604051906080820182811067ffffffffffffffff821117610c1357604052565b634e487b7160e01b600052604160045260246000fd5b8015610bdd576000190190565b610c3e610bf3565b9060008252600060208301526000604083015260006060830152565b67ffffffffffffffff8111610c135760051b6020019056fea2646970667358221220974dffb7ba8651ae2f71a7672d7dc05935d2670e477080058a913cd913cac05e64736f6c63430008130033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
